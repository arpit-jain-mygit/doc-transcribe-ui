/* User value: These styles keep OCR/transcription screens clear, readable, and easy to use. */
/* =========================================
   PROGRESS BAR — CLEAN, RELIABLE, POLISHED
   ========================================= */

progress {
  width: 100%;
  height: 10px;
  margin-top: 10px;
  border-radius: 999px;

  appearance: none;
  -webkit-appearance: none;

  background-color: #e5e7eb; /* track */
  overflow: hidden;
}

/* Track (WebKit) */
progress::-webkit-progress-bar {
  background-color: #e5e7eb;
  border-radius: 999px;
}

/* ===============================
   ACTIVE (DEFAULT — BLUE)
   =============================== */

/* WebKit */
progress::-webkit-progress-value {
  background-color: #2563eb; /* blue */
  border-radius: 999px;
  transition:
    width 0.35s ease,
    background-color 0.35s ease;
}

/* Firefox */
progress::-moz-progress-bar {
  background-color: #2563eb;
  border-radius: 999px;
  transition: background-color 0.35s ease;
}

/* ===============================
   NEAR COMPLETION (GREEN)
   =============================== */

progress[value="90"]::-webkit-progress-value,
progress[value="95"]::-webkit-progress-value,
progress[value="100"]::-webkit-progress-value {
  background-color: #16a34a; /* green */
}

progress[value="90"]::-moz-progress-bar,
progress[value="95"]::-moz-progress-bar,
progress[value="100"]::-moz-progress-bar {
  background-color: #16a34a;
}

/* ===============================
   EARLY / INDETERMINATE FEEL
   =============================== */

body.processing-active progress[value="0"]::-webkit-progress-value {
  background-image: linear-gradient(
    110deg,
    rgba(255, 255, 255, 0.15) 25%,
    rgba(255, 255, 255, 0.35) 37%,
    rgba(255, 255, 255, 0.15) 63%
  );
  background-size: 200% 100%;
  animation: progress-sheen 2.2s linear infinite;
}

body.processing-active progress[value="0"]::-moz-progress-bar {
  background-image: linear-gradient(
    110deg,
    rgba(255, 255, 255, 0.15) 25%,
    rgba(255, 255, 255, 0.35) 37%,
    rgba(255, 255, 255, 0.15) 63%
  );
  background-size: 200% 100%;
  animation: progress-sheen 2.2s linear infinite;
}

/* ===============================
   HIDE AFTER COMPLETION
   =============================== */

body:not(.processing-active) progress {
  display: none;
}

/* Safety: always show during polling */
body.processing-active progress {
  display: block;
}


/* ===============================
   ANIMATION
   =============================== */

@keyframes progress-sheen {
  from {
    background-position: 200% 0;
  }
  to {
    background-position: -200% 0;
  }
}