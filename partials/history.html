<!-- User value: This page helps users run OCR/transcription and clearly view status and results. -->
<section id="historySection" class="old-history-section card">

<div class="history-top-bar">
  <h2>Generated Files History</h2>
  <div class="history-top-controls">
    <span id="historyLastRefreshed" class="history-last-refreshed">Last refreshed: --</span>
    <button
      id="refreshJobsBtn"
      class="history-refresh-btn"
      type="button"
      onclick="refreshJobs()"
      aria-label="Refresh history"
      title="Refresh generated files history"
    >
      <span class="history-refresh-icon" aria-hidden="true">â†»</span>
    </button>
  </div>
</div>

  <div class="history-filters-row">
  <div class="history-kind-tabs" role="tablist" aria-label="History type filters">
    <button
      id="historyKindOcr"
      class="history-kind-tab history-kind-tab-ocr active"
      type="button"
      role="tab"
      aria-selected="true"
      onclick="setJobsTypeFilter('OCR')"
    >
      <span class="history-kind-icon history-kind-icon-pdf" aria-hidden="true">PDF</span>
      <span class="history-kind-sr-only">PDF / Image to Hindi Text</span>
      <span id="historyKindCountOcr" class="history-kind-count" style="display:none;"></span>
    </button>
    <button
      id="historyKindTranscription"
      class="history-kind-tab history-kind-tab-transcription"
      type="button"
      role="tab"
      aria-selected="false"
      onclick="setJobsTypeFilter('TRANSCRIPTION')"
    >
      <span class="history-kind-icon" aria-hidden="true">ðŸŽµ</span>
      <span class="history-kind-sr-only">Video / Audio to Hindi Text</span>
      <span id="historyKindCountTranscription" class="history-kind-count" style="display:none;"></span>
    </button>
  </div>
  <div id="historyStatusControl" class="history-status-control" style="display:none;">
    <label for="historyStatusSelect" class="history-status-label">Status</label>
    <select
      id="historyStatusSelect"
      class="history-status-select"
      onchange="setJobsFilter(this.value)"
    >
      <option id="historyStatusOptionCompleted" value="COMPLETED">Completed</option>
      <option id="historyStatusOptionFailed" value="FAILED">Failed</option>
      <option id="historyStatusOptionCancelled" value="CANCELLED">Cancelled</option>
    </select>
  </div>
  </div>

  <div id="jobsLoading" class="history-loading" style="display:none;">
    <div class="history-loading-dots" aria-label="Loading"></div>
  </div>

  <div id="jobs" class="jobs-list"></div>

  <div id="historyPagination" class="history-pagination" style="display:none;">
    <button
      id="historyLoadMoreBtn"
      class="history-load-more-btn"
      type="button"
      onclick="loadMoreJobs()"
    >
      <span class="history-load-more-label">Load more</span>
      <span class="history-load-more-dots" aria-hidden="true"></span>
    </button>
  </div>

</section>
