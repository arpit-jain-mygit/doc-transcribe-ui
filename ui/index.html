<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>‡§∂‡•ç‡§∞‡•Å‡§§ ‡§è‡§µ‡§Ç ‡§ú‡§ø‡§®‡§µ‡§æ‡§£‡•Ä ‡§∏‡§Ç‡§∞‡§ï‡•ç‡§∑‡§£</title>
  <link rel="stylesheet" href="styles.css">
</head>

<body>

  <div id="toasts"></div>

  <div class="container">
    <!-- PROCESSING ANCHOR -->
<div id="processingAnchor"></div>


    <!-- ========================= -->
    <!-- NON-PROCESSING CONTENT -->
    <!-- ========================= -->
    <div id="appContent">

      <!-- HEADER ROW: title + auth only -->
      <div class="top-bar">
        <h1>‡§∂‡•ç‡§∞‡•Å‡§§ ‡§è‡§µ‡§Ç ‡§ú‡§ø‡§®‡§µ‡§æ‡§£‡•Ä ‡§∏‡§Ç‡§∞‡§ï‡•ç‡§∑‡§£</h1>

        <div class="user-column">
          <!-- SIGNED-IN -->
          <div id="userProfile" class="user-profile" style="display:none;">
            <img id="userAvatar" class="user-avatar" />
            <div class="user-meta">
              <div class="user-welcome">Welcome</div>
              <div id="userEmail" class="user-email"></div>
            </div>
            <button class="logout-link" onclick="logout()">Sign out</button>
          </div>

          <!-- SIGNED-OUT -->
          <div id="authBox" class="signin-box">
            <div id="google-signin-btn"></div>
          </div>
        </div>
      </div>

      <!-- INTRO -->
      <div id="appIntro">
        ü™îüìú ‡§á‡§∏ ‡§ê‡§™ ‡§ï‡•á ‡§Æ‡§æ‡§ß‡•ç‡§Ø‡§Æ ‡§∏‡•á ‡§Ü‡§™ ‡§ú‡•à‡§® ‡§™‡•ç‡§∞‡§µ‡§ö‡§®, ‡§∏‡•ç‡§§‡•Å‡§§‡§ø‡§Ø‡§æ‡§Ç ‡§Ø‡§æ ‡§™‡•ç‡§∞‡§æ‡§ö‡•Ä‡§® ‡§ó‡•ç‡§∞‡§Ç‡§•‡•ã‡§Ç ‡§ï‡§æ
        ‡§∂‡•Å‡§¶‡•ç‡§ß ‡§è‡§µ‡§Ç ‡§∏‡§ü‡•Ä‡§ï ‡§Ö‡§®‡•Å‡§µ‡§æ‡§¶ ‡§π‡§ø‡§Ç‡§¶‡•Ä, ‡§∏‡§Ç‡§∏‡•ç‡§ï‡•É‡§§ ‡§è‡§µ‡§Ç ‡§™‡•ç‡§∞‡§æ‡§ï‡•É‡§§ ‡§≠‡§æ‡§∑‡§æ‡§ì‡§Å ‡§Æ‡•á‡§Ç ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§
      </div>

      <div id="approvalBanner">
        ‚è≥ Your account is pending approval. Uploads are disabled until approval.
      </div>

      <!-- UPLOAD GRID -->
      <div class="upload-grid">

        <div class="card">
          <h2>PDF to Hindi Text</h2>
          <div class="upload-row">
            <div class="drop-zone" id="ocrDrop">
              <input type="file" id="ocrFile" accept=".pdf,.png,.jpg,.jpeg,.tiff,.bmp" />
              <span class="label">Drag PDF / Image or click</span>
              <span class="filename" id="ocrFilename"></span>
            </div>
            <button class="btn-primary" onclick="uploadFrom('OCR','ocrFile')">
              Convert
            </button>
          </div>
          <div class="hint">Supported: PDF</div>
        </div>

        <div class="card">
          <h2>Video/Audio to Hindi Text</h2>
          <div class="upload-row">
            <div class="drop-zone" id="transcribeDrop">
              <input type="file" id="transcribeFile" accept=".mp3,.wav,.m4a,.mp4,.mov,.webm" />
              <span class="label">Drag audio/video or click</span>
              <span class="filename" id="transcribeFilename"></span>
            </div>
            <button class="btn-primary" onclick="uploadFrom('TRANSCRIPTION','transcribeFile')">
              Convert
            </button>
          </div>
          <div class="hint">
            Supported: MP3, WAV, M4A, MP4, MOV, WEBM
          </div>
        </div>

      </div>

      <!-- ========================= -->
      <!-- PROCESSING HERO SECTION -->
      <!-- ========================= -->
       
      <div id="statusBox" class="card processing-panel" style="display:none;">

        <!-- FILE INFO ‚Äî SHOW ONLY AFTER COMPLETION -->
<div id="fileInfo" style="display:none; margin-top:16px;">
  <div>
    <strong>Uploaded:</strong>
    <span id="uploadedFile"></span>
  </div>

  <div style="margin-top:6px;">
    <strong>Generated:</strong>
    <a href="#" id="generatedFile" class="history-download"></a>
  </div>
</div>

      </div>
  <button class="processing-close" onclick="hideProcessing()">‚úï</button>
  <h2>Processing</h2>


<div id="fileSummary" style="display:none;">
  <div class="file-line">
    <strong>Uploaded:</strong>
    <span id="inputFilename">Uploaded file</span>
  </div>

  <div class="file-line">
    <strong>Generated:</strong>
    <a id="downloadLink" href="#" class="file-download">
      <span id="outputFilename">transcript.txt</span>
      <span class="download-icon">‚¨á</span>
    </a>
  </div>
</div>




        <progress id="progress" value="0" max="100"></progress>

        <!-- FILE SUMMARY (ON COMPLETION) -->
<div id="fileSummary" style="display:none;">
  <div><strong>Uploaded:</strong> <span id="inputFilename"></span></div>
  <div><strong>Generated:</strong> <span id="outputFilename"></span></div>
</div>



        <div id="thoughtBox" class="thought-box">
          <div id="thoughtText" class="thought-text"></div>
        </div>
      </div>

      <!-- ========================= -->
      <!-- HISTORY (SECONDARY) -->
      <!-- ========================= -->
      <div class="card">
        <div class="top-bar" style="margin-bottom:12px;">
          <h2>Old converted files history</h2>
          <button onclick="loadJobs()">üîÑ Refresh</button>
        </div>
        <div id="jobs"></div>
      </div>

    </div>
    <!-- END appContent -->

  </div>

  <script src="https://accounts.google.com/gsi/client" async defer></script>
  <script src="app.js"></script>

</body>
</html>
